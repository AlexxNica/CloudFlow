<div class="p-3 mb-1 animated slideInLeft" *ngIf="task">

    <div class="d-flex flex-column" *ngIf="properties">

        <div class="d-flex flex-row justify-content-between mb-4">

            <!-- task name -->
            <cf-info-item [prop]="properties['name']" class="flex-1-1-0"></cf-info-item>

            <div>
                <button class="btn btn-link btn-link--reset pointer p-0" title="Show task definition"
                        (click)="showTaskDefinition(taskDef)">
                    <small><i class="fa fa-chevron-left"></i>&nbsp;<i class="fa fa-chevron-right"></i></small>
                </button>
                <a class="btn btn-link btn-link--reset pointer font-24 p-0 pl-2" [routerLink]="['../../']" title="Go back to execution details">&times;</a>
            </div>

        </div>

        <!-- action / workflow name -->
        <cf-info-item *ngIf="task.isAction" [prop]="properties['action']"></cf-info-item>

        <cf-info-item *ngIf="task.isWorkflow" [prop]="properties['workflow']"></cf-info-item>

        <div class="d-flex flex-row mb-4">
            <!-- state -->
            <cf-info-item class="flex-0-0-15" [prop]="properties['state']"></cf-info-item>

            <!-- state info -->
            <cf-info-item class="flex-1-1-auto mnw-0" [prop]="properties['state_info']"></cf-info-item>
        </div>

        <div class="d-flex flex-row">

            <!-- created -->
            <cf-info-item class="flex-1-1-auto" [prop]="properties['created_at']"></cf-info-item>

            <!-- updated -->
            <cf-info-item class="flex-1-1-auto" [prop]="properties['updated_at']"></cf-info-item>

            <!-- duration -->
            <cf-info-item class="flex-1-1-auto" [prop]="properties['duration']"></cf-info-item>
        </div>

        <!-- with-items -->
        <cf-info-item *ngIf="taskDef['with-items']" [prop]="properties['with-items']"></cf-info-item>

        <!-- result -->
        <cf-info-item [prop]="properties['result']"></cf-info-item>

        <!-- published -->
        <cf-info-item [prop]="properties['published']"></cf-info-item>

        <!-- when task is action: show action executions -->
        <cf-action-executions-info *ngIf="task.isAction" class="mt-4" [taskExecutionId]="task.id"></cf-action-executions-info>

        <!-- when task is workflow: show subworkflow executions -->
        <cf-subworkflow-executions-info *ngIf="task.isWorkflow" class="mt-4" [taskExecId]="task.id"></cf-subworkflow-executions-info>

    </div>
</div>